<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
         <style>
         .div{
           font-size: small;
         }
         </style>   
</head>
<body>
  
    <div class="container">
        <div class="row">
          <form>
            <p>
              <label for="title">Name of City</label>
              <input type="text" name="title" id="title">
            </p>
            <p>
              <button class="btn waves-effect waves-light" id="searchCity">Search City</button>
            </p>
          </form>
        </div>
        <div class="row">
          <div id="city" class="col s6">
              </div>
          <div id="search-history" class="col s6">
              </div>
        </div>
      </div>
     <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>   


    <script>
      let city = { }
        document.getElementById('searchCity').addEventListener('click', event =>{
           event.preventDefault()
        
            fetch(`http://api.openweathermap.org/data/2.5/forecast?q=${document.getElementById('title').value}&APPID=e2bb961f87ee45b7f3164d336e92a97a&units=imperial`)
        .then(r=>r.json())
        .then(({list}) =>{

          fetch("http://api.weatherapi.com/v1/forecast.json?key=4c7cf864dece48118e8205530200502&q=d${document.getElementById('title').value}days=5")
        .then(r=>r.json())
        .then(({forecast,location,current}) =>{
          
            console.log(forecast.forecastday[0].day.uv)
     
           document.getElementById('city').innerHTML = `
          
            <div class="row">
    <div class="col s12 m6 l3">
      <div class="card-panel teal">
        <span class="white-text">
          
              <div >${list[0].dt_txt}</div>
              <img src = "113.png">
              <div class="div">Current-Temp : ${list[0].main.temp}</div>
              <div class="div">Min-Temp : ${list[0].main.temp_min}</div>
              <div class="div">Humidity : ${list[0].main.humidity}</div>
              <div class="div">Wind-speed : ${list[0].wind.speed}</div>
              <div class="div">Weather : ${list[0].weather[0].description} </div>
              <div class="div">UV Index:${forecast.forecastday[0].day.uv}</div>
              
         </span>
      </div>
    </div>
      
    <div class="col s12 m6 l3">
      <div class="card-panel teal">
        <span class="white-text">
              <div >${list[7].dt_txt}</div>
              <img src = "113.png">
              <div class="div">Current-Temp : ${list[7].main.temp}</div>
              <div class="div">Min-Temp : ${list[7].main.temp_min}</div>
              <div class="div">Humidity : ${list[7].main.humidity}</div>
              <div class="div">Wind-speed : ${list[7].wind.speed}</div>
              <div class="div">Weather : ${list[7].weather[0].description} </div>
            </span>
      </div>
    </div>
    <div class="col s12 m6 l3">
      <div class="card-panel teal">
        <span class="white-text">
              <div >${list[14].dt_txt}</div>
              <img src = "113.png">
              <div class="div">Current-Temp : ${list[14].main.temp}</div>
              <div class="div">Min-Temp : ${list[14].main.temp_min}</div>
              <div class="div">Humidity : ${list[14].main.humidity}</div>
              <div class="div">Wind-speed : ${list[14].wind.speed}</div>
              <div class="div">Weather : ${list[14].weather[0].description} </div>
            </span>
      </div>
    </div>
    <div class="col s12 m6 l3">
      <div class="card-panel teal">
        <span class="white-text">
              <div >${list[22].dt_txt}</div>
              <img src = "179.png">
              <div class="div">Current-Temp : ${list[22].main.temp}</div>
              <div class="div">Min-Temp : ${list[22].main.temp_min}</div>
              <div class="div">Humidity : ${list[22].main.humidity}</div>
              <div class="div">Wind-speed : ${list[22].wind.speed}</div>
              <div class="div">Weather : ${list[22].weather[0].description} </div>
            </span>
      </div>
    </div>
    <div class="col s12 m6 l3">
      <div class="card-panel teal">
        <span class="white-text">
              <div >${list[30].dt_txt}</div>
              <img src = "179.png">
              <div class="div">Current-Temp : ${list[30].main.temp}</div>
              <div class="div">Min-Temp : ${list[30].main.temp_min}</div>
              <div class="div">Humidity : ${list[30].main.humidity}</div>
              <div class="div">Wind-speed : ${list[30].wind.speed}</div>
              <div class="div">Weather : ${list[30].weather[0].description} </div>
            </span>
      </div>
    </div>
  </div>              

            <div class="card-action">
              <button class="btn waves-effect waves-light addWatchlist">Search List</button>
            </div>
        

        `
    })
    .catch(e => console.error(e))
 })
        })  
    
    </script>
</body>
</html>